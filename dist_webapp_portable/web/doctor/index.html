<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/fec163fcd006ffa6.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-a486e10932edf30d.js"/><script src="/_next/static/chunks/4bd1b696-6af3f72bddb90467.js" async=""></script><script src="/_next/static/chunks/684-153d298588970f92.js" async=""></script><script src="/_next/static/chunks/main-app-28a9c2d43e0eb3da.js" async=""></script><script src="/_next/static/chunks/874-1355c08b9aa3a88c.js" async=""></script><script src="/_next/static/chunks/app/doctor/page-894e5136ffd54cd0.js" async=""></script><title>CoPilot Symptomatologist Web</title><meta name="description" content="Next.js + FastAPI migration of the CoPilot Symptomatologist desktop app"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_dd5b2f __variable_64b714"><main class="shell stack" data-testid="doctor-page"><section class="hero"><h1 class="doctor-hero-title">Medical Doctor Workspace</h1><p>Clinical command center for physicians: review assistant intakes, perform AI-supported case analysis, manage scheduling, generate patient documents, and maintain complete patient records for final doctor-reviewed decisions.</p><nav class="hero-nav"><a href="/">Home</a><a href="/assistant/">Assistant Portal</a><button class="nav-chip-btn" data-testid="doctor-refresh-kb">Refresh KB</button><button class="nav-chip-btn" data-testid="doctor-refresh-patient-records">Refresh patient/intake records</button></nav></section><section class="panel"><header class="panel-header"><h2>Scheduling</h2><p>Appointments, availability, waitlist, reminders</p></header><div class="stack" style="gap:12px"><div class="hero-nav" style="align-items:center"><button class="btn ghost">Refresh scheduling</button><p class="small-meta">API: <code>/appointments</code>, <code>/availability</code>, <code>/waitlist</code></p></div><div class="page-grid columns-2"><div class="stack" style="gap:12px"><div class="field-grid"><div class="field"><label>Patient name</label><input value=""/></div><div class="field"><label>Patient email (for reminders)</label><input value=""/></div><div class="field"><label>Patient phone</label><input value=""/></div><div class="field"><label>Reason</label><input value=""/></div><div class="field"><label>Date</label><input type="date" value="2026-02-26"/></div><div class="field"><label>Time</label><input type="time" value="09:00"/></div><div class="field"><label>Duration (minutes)</label><select><option value="15">15</option><option value="30" selected="">30</option><option value="45">45</option><option value="60">60</option></select></div><div class="field"><label style="display:flex;align-items:center;gap:8px"><input type="checkbox" checked=""/>Add to waitlist if slot is full</label></div></div><div class="field"><label>Notes</label><textarea></textarea></div><div class="hero-nav"><button class="btn">Create appointment</button></div></div><div class="stack" style="gap:12px"><div class="field"><label>Availability (weekly)</label><p class="small-meta">Click “Refresh scheduling” to load availability.</p></div></div></div><div class="page-grid columns-2"><div class="stack" style="gap:10px"><h3 style="margin:0">Upcoming appointments</h3><p class="small-meta">No appointments loaded.</p></div><div class="stack" style="gap:10px"><h3 style="margin:0">Waitlist</h3><p class="small-meta">No waitlist items.</p></div></div></div></section><div class="status" data-testid="doctor-status">Ready.</div><div class="page-grid columns-2"><section class="panel"><header class="panel-header"><h2>Doctor Note</h2><p>Main case narrative workspace</p></header><div class="toolbar"><button class="btn" data-testid="doctor-attach-file-label">Attach assistant patient record</button><label class="btn ghost" data-testid="doctor-upload-local-file-label">Upload local file (PDF/Text/Image)<input hidden="" type="file" data-testid="doctor-attach-file-input"/></label><button class="btn accent" data-testid="doctor-revise-report">Revise Report</button><button class="btn primary" data-testid="doctor-analyze-case">Analyze Case</button><button class="btn" data-testid="doctor-save-patient-record">Save Patient Record</button><button class="btn" data-testid="doctor-generate-patient-pdf">Generate Patient Record PDF</button><button class="btn" data-testid="doctor-generate-certificate-pdf">Generate Medical Certificate PDF</button><button class="btn" data-testid="doctor-clear-note">Clear</button></div><textarea data-testid="doctor-note" placeholder="Paste or dictate doctor note here..." style="min-height:360px;margin-top:12px"></textarea></section><section class="panel"><header class="panel-header"><h2>AI Analysis</h2><p>Output from /analyze_case (clinical support only; doctor review required)</p></header><div class="pre" data-testid="doctor-analysis-output" style="min-height:428px">Case analysis output will appear here.</div></section></div><div class="page-grid columns-2"><section class="panel"><header class="panel-header"><h2>AI Chat</h2><p>Uses the same backend /chat contract as WinForms</p></header><div class="chat-box" data-testid="doctor-chat-box"><p class="chat-line"><strong>assistant<!-- -->:</strong> <!-- -->CoPilot Symptomatologist web chat is ready. Ask about the current case or request a rewrite/summary.</p></div><div class="field" style="margin-top:12px"><label for="chatInput">Message</label><textarea id="chatInput" data-testid="doctor-chat-input" placeholder="Ask a question about the case (Ctrl/Cmd+Enter to send)"></textarea></div><div class="toolbar"><button class="btn primary" data-testid="doctor-chat-send">Send Chat</button><button class="btn" data-testid="doctor-chat-reset">Reset Chat</button></div></section><section class="panel"><header class="panel-header"><h2>Medication Lookup (RxNav)</h2></header><div class="field"><label for="rxQuery">Medication name</label><input id="rxQuery" data-testid="doctor-rx-query" placeholder="e.g., metformin" value=""/></div><div class="toolbar"><button class="btn" data-testid="doctor-rx-lookup">Lookup</button></div><div class="list" data-testid="doctor-rx-results"><div class="list-item"><p class="small-meta">RxNav results will appear here.</p></div></div></section></div><div class="page-grid columns-2"><section class="panel"><header class="panel-header"><h2>Local Knowledge Base (Train + Ask)</h2></header><div class="field"><label for="trainTags">Train AI tags (comma-separated)</label><input id="trainTags" data-testid="doctor-train-tags" placeholder="Cardio, Endocrine, SOAP, Protocol" value=""/></div><div class="toolbar"><label class="btn" data-testid="doctor-train-upload-label">Train / Upload References<input hidden="" type="file" data-testid="doctor-train-upload-input" multiple="" accept=".pdf,.txt,.md"/></label><button class="btn" data-testid="doctor-refresh-kb-list">Refresh KB List</button></div><div class="field"><label for="kbSelect">Reference file</label><select id="kbSelect" data-testid="doctor-kb-select"><option value="" selected="">Select a reference file...</option></select></div><div class="field"><label for="kbQuestion">Question for selected file</label><textarea id="kbQuestion" data-testid="doctor-kb-question" placeholder="How is this reference relevant to the current case?"></textarea></div><div class="toolbar"><button class="btn primary" data-testid="doctor-kb-ask" disabled="">Ask Selected Reference</button></div><div class="pre" data-testid="doctor-kb-answer">KB answer output will appear here.</div><p class="small-meta">Trained document count: <!-- -->0</p></section><section class="panel"><header class="panel-header"><h2>Medical References (PubMed + ClinicalTrials + RxNav)</h2></header><div class="field"><label for="refQuery">Keywords / condition / diagnosis</label><input id="refQuery" data-testid="doctor-ref-query" placeholder="e.g., diabetic ketoacidosis management adult" value=""/></div><div class="toolbar"><button class="btn accent" data-testid="doctor-ref-fetch">Fetch References</button><button class="btn" data-testid="doctor-ref-clear">Clear</button></div><div class="pre" data-testid="doctor-ref-summary">AI evidence summary will appear here.</div><div class="pre" data-testid="doctor-ref-report" style="max-height:360px">Detailed references report will appear here.</div></section></div><section class="panel"><header class="panel-header"><h2>Saved Patient Records</h2><p>Doctor records plus assistant intakes from host storage</p></header><div class="stack" style="gap:12px"><div><h3 style="margin:0">Doctor Records</h3><div class="list" data-testid="doctor-patient-records-list"><div class="list-item"><p class="small-meta">No doctor records loaded yet.</p></div></div></div><div><h3 style="margin:0">Assistant Intakes</h3><div class="list" data-testid="doctor-intake-records-list"><div class="list-item"><p class="small-meta">No assistant intakes loaded yet.</p></div></div></div></div></section></main><!--$--><!--/$--><!--$--><!--/$--><script src="/_next/static/chunks/webpack-a486e10932edf30d.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7555,[],\"\"]\n3:I[1295,[],\"\"]\n4:I[894,[],\"ClientPageRoot\"]\n5:I[7562,[\"874\",\"static/chunks/874-1355c08b9aa3a88c.js\",\"328\",\"static/chunks/app/doctor/page-894e5136ffd54cd0.js\"],\"default\"]\n8:I[9665,[],\"MetadataBoundary\"]\na:I[9665,[],\"OutletBoundary\"]\nd:I[4911,[],\"AsyncMetadataOutlet\"]\nf:I[9665,[],\"ViewportBoundary\"]\n11:I[6614,[],\"\"]\n:HL[\"/_next/static/css/fec163fcd006ffa6.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"Ou2XZFKUFIX-p-n-Ejbmi\",\"p\":\"\",\"c\":[\"\",\"doctor\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"doctor\",{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/fec163fcd006ffa6.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_dd5b2f __variable_64b714\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"doctor\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"$L4\",null,{\"Component\":\"$5\",\"searchParams\":{},\"params\":{},\"promises\":[\"$@6\",\"$@7\"]}],[\"$\",\"$L8\",null,{\"children\":\"$L9\"}],null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",[\"$\",\"$Ld\",null,{\"promise\":\"$@e\"}]]}]]}],{},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"UlhTEHQ7xYvSX1-nbglC6\",{\"children\":[[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}],null]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:\"$Sreact.suspense\"\n13:I[4911,[],\"AsyncMetadata\"]\n6:{}\n7:{}\n9:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]}]\n"])</script><script>self.__next_f.push([1,"c:null\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><script>self.__next_f.push([1,"14:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"CoPilot Symptomatologist Web\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Next.js + FastAPI migration of the CoPilot Symptomatologist desktop app\"}]],\"error\":null,\"digest\":\"$undefined\"}\ne:{\"metadata\":\"$14:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>